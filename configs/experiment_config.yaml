# 实验管理配置文件
# Experiment Tracking Configuration

# MLflow配置
mlflow:
  # 实验跟踪URI (本地文件系统)
  tracking_uri: "file:./mlruns"
  
  # 实验名称
  experiment_name: "ai-trader"
  
  # 是否启用自动日志记录
  autolog: true
  
  # 日志记录级别
  log_level: "INFO"
  
  # 是否记录系统指标
  log_system_metrics: true
  
  # 系统指标记录间隔(秒)
  system_metrics_sampling_interval: 10
  
  # 是否记录模型
  log_models: true
  
  # 是否记录数据集
  log_datasets: true
  
  # Artifact存储位置
  artifact_location: "./mlartifacts"

# TensorBoard配置
tensorboard:
  # 日志目录
  log_dir: "./runs"
  
  # 是否启用
  enabled: true
  
  # 刷新间隔(秒)
  flush_secs: 30
  
  # 最大队列大小
  max_queue: 10
  
  # 是否记录图结构
  log_graph: true
  
  # 是否记录直方图
  log_histogram: true
  
  # 直方图记录频率(每N步)
  histogram_freq: 100

# 实验标签
tags:
  project: "ai-trader"
  version: "v1.0"
  framework: "pytorch"
  
# 参数记录配置
params:
  # 是否自动记录所有参数
  auto_log: true
  
  # 参数前缀过滤
  prefix_filter: []
  
# 指标记录配置
metrics:
  # 是否自动记录所有指标
  auto_log: true
  
  # 指标记录频率(每N步)
  log_frequency: 10
  
  # 是否记录训练指标
  log_training: true
  
  # 是否记录验证指标
  log_validation: true
  
  # 是否记录测试指标
  log_testing: true

# 模型检查点配置
checkpoints:
  # 检查点保存目录
  save_dir: "./models"
  
  # 保存频率(每N个epoch)
  save_frequency: 5
  
  # 是否只保存最佳模型
  save_best_only: true
  
  # 监控的指标
  monitor: "val_loss"
  
  # 监控模式 (min/max)
  mode: "min"
  
  # 最多保存的检查点数量
  max_to_keep: 3

# 早停配置
early_stopping:
  # 是否启用
  enabled: true
  
  # 监控的指标
  monitor: "val_loss"
  
  # 监控模式 (min/max)
  mode: "min"
  
  # 容忍的epoch数
  patience: 10
  
  # 最小改善阈值
  min_delta: 0.0001

# 可视化配置
visualization:
  # 是否启用
  enabled: true
  
  # 图表保存目录
  save_dir: "./logs/figures"
  
  # 图表格式
  format: "png"
  
  # DPI
  dpi: 300