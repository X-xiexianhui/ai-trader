# 回测引擎配置文件

# 基本配置
initial_cash: 100000  # 初始资金
commission: 0.001  # 手续费率（0.1%）
slippage: 0.0005  # 滑点（0.05%）

# GPU配置
gpu:
  enabled: true  # 是否启用GPU加速
  device: "auto"  # 设备选择: "auto", "cuda", "rocm", "cpu"
  memory_limit: null  # GPU内存限制（GB），null表示不限制
  mixed_precision: false  # 是否使用混合精度（FP16）
  multi_gpu: false  # 是否使用多GPU并行

# 策略配置
strategy:
  position_size: 0.95  # 最大仓位比例
  stop_loss: 0.02  # 止损比例（2%）
  take_profit: 0.05  # 止盈比例（5%）
  max_holding_time: 100  # 最大持仓时间（K线数）
  
# 风险管理
risk_management:
  max_drawdown_threshold: 0.20  # 最大回撤阈值（20%）
  max_leverage: 1.0  # 最大杠杆
  position_limit: 1.0  # 单次最大仓位
  daily_loss_limit: 0.05  # 单日最大亏损限制（5%）

# 回测时间范围
time_range:
  start_date: "2020-01-01"
  end_date: "2023-12-31"
  
# 数据配置
data:
  frequency: "5min"  # 数据频率
  symbols:  # 回测品种
    - "ES=F"  # 标普500期货
    - "NQ=F"  # 纳斯达克期货
  
# 分析器配置
analyzers:
  - name: "SharpeRatio"
    params:
      timeframe: "yearly"
      riskfreerate: 0.02
  - name: "DrawDown"
    params: {}
  - name: "Returns"
    params:
      timeframe: "yearly"
  - name: "TradeAnalyzer"
    params: {}

# 输出配置
output:
  save_results: true  # 是否保存结果
  results_dir: "results/backtest"  # 结果保存目录
  plot: true  # 是否绘图
  plot_style: "candlestick"  # 绘图样式
  generate_report: true  # 是否生成报告
  report_format: "html"  # 报告格式: "html", "pdf", "markdown"